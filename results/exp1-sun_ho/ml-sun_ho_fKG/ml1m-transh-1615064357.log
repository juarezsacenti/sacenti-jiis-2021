2021-03-06 17:59:17,088 - root - INFO - Flag Values:
{
    "L1_flag": true,
    "batch_size": 256,
    "ckpt_path": "/home/juarez/git/results/JIIS-revised-exp1/ml-sun_ho_fKG/",
    "clipping_max_value": 5.0,
    "data_path": "/home/juarez/git/datasets/JIIS-revised-exp1/ml-sun_ho_fKG/cao-format/",
    "dataset": "ml1m",
    "early_stopping_steps_to_wait": 24363,
    "embedding_size": 100,
    "eval_interval_steps": 4873,
    "eval_only_mode": false,
    "experiment_name": "ml1m-transh-1615064357",
    "filter_wrong_corrupted": true,
    "has_visualization": false,
    "is_report": false,
    "joint_ratio": 0.5,
    "kg_lambda": 1.0,
    "kg_test_files": "valid.dat:test.dat",
    "l2_lambda": 0.0,
    "learning_rate": 0.001,
    "learning_rate_decay_when_no_progress": 0.5,
    "load_ckpt_file": "/home/juarez/git/results/JIIS-revised-exp1/ml-sun_ho_fKG/ml1m-transe-pretrained.ckpt",
    "load_experiment_name": null,
    "log_level": "debug",
    "log_path": "/home/juarez/git/results/JIIS-revised-exp1/ml-sun_ho_fKG/",
    "margin": 1.0,
    "max_queue": 10,
    "model_type": "transh",
    "momentum": 0.9,
    "negtive_samples": 1,
    "norm_lambda": 1.0,
    "num_preferences": 4,
    "num_processes": 4,
    "optimizer_type": "Adam",
    "rec_test_files": null,
    "seed": 0,
    "share_embeddings": false,
    "topn": 10,
    "training_steps": 487300,
    "use_st_gumbel": false,
    "visualization_port": 8097
}
2021-03-06 17:59:17,101 - root - INFO - Totally 2962 train triples, 361,690 eval triples in files: /home/juarez/git/datasets/JIIS-revised-exp1/ml-sun_ho_fKG/cao-format/ml1m/kg/valid.dat;/home/juarez/git/datasets/JIIS-revised-exp1/ml-sun_ho_fKG/cao-format/ml1m/kg/test.dat!
2021-03-06 17:59:17,103 - root - INFO - successfully load 1587 entities and 3 relations!
2021-03-06 17:59:17,107 - root - INFO - Building model.
2021-03-06 17:59:18,384 - root - INFO - Architecture: TransHModel(
  (ent_embeddings): Embedding(1587, 100)
  (rel_embeddings): Embedding(3, 100)
  (norm_embeddings): Embedding(3, 100)
)
2021-03-06 17:59:18,384 - root - INFO - Total params: 159300.0
2021-03-06 17:59:18,384 - root - INFO - One epoch is 12 steps.
2021-03-06 17:59:18,384 - root - INFO - Found checkpoint, restoring pre-trained embeddings.
2021-03-06 17:59:18,387 - root - INFO - Load Embeddings of ent_embeddings.weight, rel_embeddings.weight from /home/juarez/git/results/JIIS-revised-exp1/ml-sun_ho_fKG/ml1m-transe-pretrained.ckpt.
2021-03-06 17:59:18,387 - root - INFO - Training.
2021-03-06 17:59:18,387 - root - INFO - train loss:0.0000!
2021-03-06 17:59:19,230 - root - INFO - head hit:0.2715, head mean rank:394.1247, topn:10.
2021-03-06 17:59:19,230 - root - INFO - tail hit:0.7673, tail mean rank:13.3767, topn:10.
2021-03-06 17:59:19,230 - root - INFO - avg hit:0.5194, avg mean rank:203.7507, topn:10.
2021-03-06 17:59:20,043 - root - INFO - head hit:0.2652, head mean rank:339.0217, topn:10.
2021-03-06 17:59:20,044 - root - INFO - tail hit:0.7928, tail mean rank:9.5304, topn:10.
2021-03-06 17:59:20,044 - root - INFO - avg hit:0.5290, avg mean rank:174.2761, topn:10.
2021-03-06 17:59:58,395 - root - INFO - train loss:0.0272!
2021-03-06 17:59:59,028 - root - INFO - head hit:0.2078, head mean rank:393.9889, topn:10.
2021-03-06 17:59:59,028 - root - INFO - tail hit:0.6648, tail mean rank:23.7064, topn:10.
2021-03-06 17:59:59,028 - root - INFO - avg hit:0.4363, avg mean rank:208.8476, topn:10.
2021-03-06 17:59:59,858 - root - INFO - head hit:0.1957, head mean rank:332.9188, topn:10.
2021-03-06 17:59:59,858 - root - INFO - tail hit:0.7261, tail mean rank:14.1855, topn:10.
2021-03-06 17:59:59,858 - root - INFO - avg hit:0.4609, avg mean rank:173.5522, topn:10.
2021-03-06 17:59:59,859 - root - INFO - Checkpointing ...
2021-03-06 18:00:37,324 - root - INFO - train loss:0.0318!
2021-03-06 18:00:37,805 - root - INFO - head hit:0.2133, head mean rank:389.0139, topn:10.
2021-03-06 18:00:37,805 - root - INFO - tail hit:0.7202, tail mean rank:18.7119, topn:10.
2021-03-06 18:00:37,806 - root - INFO - avg hit:0.4668, avg mean rank:203.8629, topn:10.
2021-03-06 18:00:38,730 - root - INFO - head hit:0.2290, head mean rank:333.8536, topn:10.
2021-03-06 18:00:38,730 - root - INFO - tail hit:0.7609, tail mean rank:15.0464, topn:10.
2021-03-06 18:00:38,730 - root - INFO - avg hit:0.4949, avg mean rank:174.4500, topn:10.
2021-03-06 18:00:38,731 - root - INFO - Checkpointing ...
2021-03-06 18:01:15,391 - root - INFO - train loss:0.0263!
2021-03-06 18:01:15,909 - root - INFO - head hit:0.2105, head mean rank:393.8006, topn:10.
2021-03-06 18:01:15,910 - root - INFO - tail hit:0.7091, tail mean rank:19.8476, topn:10.
2021-03-06 18:01:15,910 - root - INFO - avg hit:0.4598, avg mean rank:206.8241, topn:10.
2021-03-06 18:01:16,794 - root - INFO - head hit:0.2159, head mean rank:340.1855, topn:10.
2021-03-06 18:01:16,794 - root - INFO - tail hit:0.7377, tail mean rank:12.7754, topn:10.
2021-03-06 18:01:16,794 - root - INFO - avg hit:0.4768, avg mean rank:176.4804, topn:10.
2021-03-06 18:01:16,795 - root - INFO - No improvement after one epoch. Lowering learning rate.
2021-03-06 18:01:54,594 - root - INFO - train loss:0.0050!
2021-03-06 18:01:55,262 - root - INFO - head hit:0.2188, head mean rank:387.0416, topn:10.
2021-03-06 18:01:55,263 - root - INFO - tail hit:0.7064, tail mean rank:18.1607, topn:10.
2021-03-06 18:01:55,263 - root - INFO - avg hit:0.4626, avg mean rank:202.6011, topn:10.
2021-03-06 18:01:56,145 - root - INFO - head hit:0.2464, head mean rank:332.8899, topn:10.
2021-03-06 18:01:56,145 - root - INFO - tail hit:0.7406, tail mean rank:13.0783, topn:10.
2021-03-06 18:01:56,145 - root - INFO - avg hit:0.4935, avg mean rank:172.9841, topn:10.
2021-03-06 18:01:56,146 - root - INFO - No improvement after one epoch. Lowering learning rate.
2021-03-06 18:02:34,310 - root - INFO - train loss:0.0011!
2021-03-06 18:02:34,898 - root - INFO - head hit:0.2521, head mean rank:382.6870, topn:10.
2021-03-06 18:02:34,899 - root - INFO - tail hit:0.7368, tail mean rank:14.4072, topn:10.
2021-03-06 18:02:34,899 - root - INFO - avg hit:0.4945, avg mean rank:198.5471, topn:10.
2021-03-06 18:02:35,758 - root - INFO - head hit:0.2551, head mean rank:335.2565, topn:10.
2021-03-06 18:02:35,758 - root - INFO - tail hit:0.7826, tail mean rank:10.4159, topn:10.
2021-03-06 18:02:35,758 - root - INFO - avg hit:0.5188, avg mean rank:172.8362, topn:10.
2021-03-06 18:02:35,759 - root - INFO - Checkpointing ...
2021-03-06 18:03:11,744 - root - INFO - train loss:0.0005!
2021-03-06 18:03:12,349 - root - INFO - head hit:0.2632, head mean rank:377.6316, topn:10.
2021-03-06 18:03:12,350 - root - INFO - tail hit:0.7175, tail mean rank:14.8116, topn:10.
2021-03-06 18:03:12,350 - root - INFO - avg hit:0.4903, avg mean rank:196.2216, topn:10.
2021-03-06 18:03:13,240 - root - INFO - head hit:0.2667, head mean rank:330.3043, topn:10.
2021-03-06 18:03:13,240 - root - INFO - tail hit:0.7797, tail mean rank:11.7739, topn:10.
2021-03-06 18:03:13,240 - root - INFO - avg hit:0.5232, avg mean rank:171.0391, topn:10.
2021-03-06 18:03:13,241 - root - INFO - No improvement after one epoch. Lowering learning rate.
2021-03-06 18:03:49,756 - root - INFO - train loss:0.0003!
2021-03-06 18:03:50,402 - root - INFO - head hit:0.2604, head mean rank:375.2604, topn:10.
2021-03-06 18:03:50,403 - root - INFO - tail hit:0.7147, tail mean rank:14.0139, topn:10.
2021-03-06 18:03:50,403 - root - INFO - avg hit:0.4875, avg mean rank:194.6371, topn:10.
2021-03-06 18:03:51,243 - root - INFO - head hit:0.2710, head mean rank:329.1391, topn:10.
2021-03-06 18:03:51,244 - root - INFO - tail hit:0.7884, tail mean rank:10.9638, topn:10.
2021-03-06 18:03:51,244 - root - INFO - avg hit:0.5297, avg mean rank:170.0514, topn:10.
2021-03-06 18:03:51,244 - root - INFO - No improvement after one epoch. Lowering learning rate.
2021-03-06 18:04:28,857 - root - INFO - train loss:0.0001!
2021-03-06 18:04:29,473 - root - INFO - head hit:0.2632, head mean rank:377.8338, topn:10.
2021-03-06 18:04:29,473 - root - INFO - tail hit:0.7119, tail mean rank:14.2521, topn:10.
2021-03-06 18:04:29,473 - root - INFO - avg hit:0.4875, avg mean rank:196.0429, topn:10.
2021-03-06 18:04:30,396 - root - INFO - head hit:0.2681, head mean rank:330.5174, topn:10.
2021-03-06 18:04:30,396 - root - INFO - tail hit:0.7870, tail mean rank:10.6594, topn:10.
2021-03-06 18:04:30,397 - root - INFO - avg hit:0.5275, avg mean rank:170.5884, topn:10.
2021-03-06 18:04:30,397 - root - INFO - No improvement after one epoch. Lowering learning rate.
2021-03-06 18:05:06,490 - root - INFO - train loss:0.0001!
2021-03-06 18:05:07,098 - root - INFO - head hit:0.2632, head mean rank:377.5374, topn:10.
2021-03-06 18:05:07,099 - root - INFO - tail hit:0.7230, tail mean rank:13.9446, topn:10.
2021-03-06 18:05:07,099 - root - INFO - avg hit:0.4931, avg mean rank:195.7410, topn:10.
2021-03-06 18:05:07,991 - root - INFO - head hit:0.2696, head mean rank:330.4087, topn:10.
2021-03-06 18:05:07,991 - root - INFO - tail hit:0.7928, tail mean rank:10.4304, topn:10.
2021-03-06 18:05:07,992 - root - INFO - avg hit:0.5312, avg mean rank:170.4196, topn:10.
2021-03-06 18:05:07,992 - root - INFO - No improvement after one epoch. Lowering learning rate.
2021-03-06 18:05:43,951 - root - INFO - No improvement after 24363 steps. Stopping training.
