2021-03-06 02:06:32,656 - root - INFO - Flag Values:
{
    "L1_flag": true,
    "batch_size": 256,
    "ckpt_path": "/home/juarez/git/results/JIIS-revised-exp1/ml-sun_ho_sfKG_ig-sv-complex-75/",
    "clipping_max_value": 5.0,
    "data_path": "/home/juarez/git/datasets/JIIS-revised-exp1/ml-sun_ho_sfKG_ig-sv-complex-75/cao-format/",
    "dataset": "ml1m",
    "early_stopping_steps_to_wait": 13317,
    "embedding_size": 100,
    "eval_interval_steps": 2663,
    "eval_only_mode": false,
    "experiment_name": "ml1m-transup-1615007192",
    "filter_wrong_corrupted": true,
    "has_visualization": false,
    "is_report": false,
    "joint_ratio": 0.5,
    "kg_lambda": 1.0,
    "kg_test_files": null,
    "l2_lambda": 1e-05,
    "learning_rate": 0.005,
    "learning_rate_decay_when_no_progress": 0.5,
    "load_ckpt_file": "/home/juarez/git/results/JIIS-revised-exp1/ml-sun_ho_sfKG_ig-sv-complex-75/ml1m-bprmf-pretrained.ckpt",
    "load_experiment_name": null,
    "log_level": "debug",
    "log_path": "/home/juarez/git/results/JIIS-revised-exp1/ml-sun_ho_sfKG_ig-sv-complex-75/",
    "margin": 1.0,
    "max_queue": 10,
    "model_type": "transup",
    "momentum": 0.9,
    "negtive_samples": 1,
    "norm_lambda": 1.0,
    "num_preferences": 3,
    "num_processes": 4,
    "optimizer_type": "Adagrad",
    "rec_test_files": "valid.dat:test.dat",
    "seed": 0,
    "share_embeddings": false,
    "topn": 10,
    "training_steps": 266300,
    "use_st_gumbel": false,
    "visualization_port": 8097
}
2021-03-06 02:06:32,895 - root - INFO - Totally 69982 train ratings, 9998,19995 eval ratings in files: /home/juarez/git/datasets/JIIS-revised-exp1/ml-sun_ho_sfKG_ig-sv-complex-75/cao-format/ml1m/valid.dat;/home/juarez/git/datasets/JIIS-revised-exp1/ml-sun_ho_sfKG_ig-sv-complex-75/cao-format/ml1m/test.dat!
2021-03-06 02:06:32,897 - root - INFO - successfully load 943 users and 1675 items!
2021-03-06 02:06:32,977 - root - INFO - Building model.
2021-03-06 02:06:34,276 - root - INFO - Architecture: TransUPModel(
  (user_embeddings): Embedding(943, 100)
  (item_embeddings): Embedding(1675, 100)
  (pref_embeddings): Embedding(3, 100)
  (pref_norm_embeddings): Embedding(3, 100)
)
2021-03-06 02:06:34,276 - root - INFO - Total params: 262400.0
2021-03-06 02:06:34,277 - root - INFO - One epoch is 274 steps.
2021-03-06 02:06:34,277 - root - INFO - Found checkpoint, restoring pre-trained embeddings.
2021-03-06 02:06:34,280 - root - INFO - Load Embeddings of user_embeddings.weight, item_embeddings.weight from /home/juarez/git/results/JIIS-revised-exp1/ml-sun_ho_sfKG_ig-sv-complex-75/ml1m-bprmf-pretrained.ckpt.
2021-03-06 02:06:34,280 - root - INFO - Training.
2021-03-06 02:06:34,280 - root - INFO - train loss:0.0000!
2021-03-06 02:06:35,694 - root - INFO - f1:0.0716, p:0.0965, r:0.0768, hit:0.4517, ndcg:0.2666, topn:10.
2021-03-06 02:06:37,016 - root - INFO - f1:0.0770, p:0.1593, r:0.0614, hit:0.5599, ndcg:0.3556, topn:10.
2021-03-06 02:06:56,877 - root - INFO - train loss:78.4324!
2021-03-06 02:06:58,260 - root - INFO - f1:0.1400, p:0.1638, r:0.1717, hit:0.7084, ndcg:0.4458, topn:10.
2021-03-06 02:06:59,596 - root - INFO - f1:0.1690, p:0.2724, r:0.1618, hit:0.8568, ndcg:0.5744, topn:10.
2021-03-06 02:06:59,599 - root - INFO - Checkpointing ...
2021-03-06 02:07:18,792 - root - INFO - train loss:0.1734!
2021-03-06 02:07:20,111 - root - INFO - f1:0.1462, p:0.1710, r:0.1786, hit:0.7222, ndcg:0.4604, topn:10.
2021-03-06 02:07:21,401 - root - INFO - f1:0.1760, p:0.2830, r:0.1693, hit:0.8685, ndcg:0.5896, topn:10.
2021-03-06 02:07:21,405 - root - INFO - Checkpointing ...
2021-03-06 02:07:41,068 - root - INFO - train loss:0.1627!
2021-03-06 02:07:42,385 - root - INFO - f1:0.1533, p:0.1783, r:0.1873, hit:0.7349, ndcg:0.4670, topn:10.
2021-03-06 02:07:43,713 - root - INFO - f1:0.1803, p:0.2901, r:0.1737, hit:0.8749, ndcg:0.5995, topn:10.
2021-03-06 02:07:43,717 - root - INFO - Checkpointing ...
2021-03-06 02:08:02,733 - root - INFO - train loss:0.1559!
2021-03-06 02:08:03,992 - root - INFO - f1:0.1556, p:0.1805, r:0.1944, hit:0.7328, ndcg:0.4730, topn:10.
2021-03-06 02:08:05,248 - root - INFO - f1:0.1850, p:0.2972, r:0.1778, hit:0.8717, ndcg:0.6032, topn:10.
2021-03-06 02:08:05,254 - root - INFO - Checkpointing ...
2021-03-06 02:08:25,208 - root - INFO - train loss:0.1508!
2021-03-06 02:08:26,559 - root - INFO - f1:0.1599, p:0.1854, r:0.1985, hit:0.7423, ndcg:0.4820, topn:10.
2021-03-06 02:08:27,875 - root - INFO - f1:0.1896, p:0.3034, r:0.1827, hit:0.8834, ndcg:0.6110, topn:10.
2021-03-06 02:08:27,880 - root - INFO - Checkpointing ...
2021-03-06 02:08:47,568 - root - INFO - train loss:0.1479!
2021-03-06 02:08:48,924 - root - INFO - f1:0.1624, p:0.1877, r:0.2046, hit:0.7508, ndcg:0.4877, topn:10.
2021-03-06 02:08:50,254 - root - INFO - f1:0.1926, p:0.3076, r:0.1858, hit:0.8823, ndcg:0.6165, topn:10.
2021-03-06 02:08:50,258 - root - INFO - Checkpointing ...
2021-03-06 02:09:09,756 - root - INFO - train loss:0.1444!
2021-03-06 02:09:11,245 - root - INFO - f1:0.1635, p:0.1889, r:0.2049, hit:0.7529, ndcg:0.4924, topn:10.
2021-03-06 02:09:12,602 - root - INFO - f1:0.1948, p:0.3111, r:0.1882, hit:0.8834, ndcg:0.6192, topn:10.
2021-03-06 02:09:12,606 - root - INFO - Checkpointing ...
2021-03-06 02:09:33,188 - root - INFO - train loss:0.1414!
2021-03-06 02:09:34,487 - root - INFO - f1:0.1650, p:0.1908, r:0.2073, hit:0.7529, ndcg:0.4968, topn:10.
2021-03-06 02:09:35,817 - root - INFO - f1:0.1961, p:0.3135, r:0.1891, hit:0.8855, ndcg:0.6223, topn:10.
2021-03-06 02:09:35,821 - root - INFO - Checkpointing ...
2021-03-06 02:09:55,051 - root - INFO - train loss:0.1392!
2021-03-06 02:09:56,421 - root - INFO - f1:0.1668, p:0.1931, r:0.2091, hit:0.7582, ndcg:0.5012, topn:10.
2021-03-06 02:09:57,716 - root - INFO - f1:0.1967, p:0.3144, r:0.1899, hit:0.8812, ndcg:0.6249, topn:10.
2021-03-06 02:09:57,721 - root - INFO - Checkpointing ...
2021-03-06 02:10:17,135 - root - INFO - train loss:0.1367!
2021-03-06 02:10:18,476 - root - INFO - f1:0.1674, p:0.1940, r:0.2095, hit:0.7561, ndcg:0.5027, topn:10.
2021-03-06 02:10:19,832 - root - INFO - f1:0.2010, p:0.3193, r:0.1948, hit:0.8865, ndcg:0.6279, topn:10.
2021-03-06 02:10:19,837 - root - INFO - Checkpointing ...
2021-03-06 02:10:40,296 - root - INFO - train loss:0.1355!
2021-03-06 02:10:41,556 - root - INFO - f1:0.1683, p:0.1950, r:0.2100, hit:0.7550, ndcg:0.5021, topn:10.
2021-03-06 02:10:42,910 - root - INFO - f1:0.2018, p:0.3205, r:0.1956, hit:0.8855, ndcg:0.6315, topn:10.
2021-03-06 02:10:42,915 - root - INFO - Checkpointing ...
2021-03-06 02:11:04,833 - root - INFO - train loss:0.1332!
2021-03-06 02:11:06,116 - root - INFO - f1:0.1695, p:0.1966, r:0.2110, hit:0.7572, ndcg:0.5051, topn:10.
2021-03-06 02:11:07,446 - root - INFO - f1:0.2030, p:0.3220, r:0.1969, hit:0.8897, ndcg:0.6357, topn:10.
2021-03-06 02:11:07,449 - root - INFO - Checkpointing ...
2021-03-06 02:11:28,022 - root - INFO - train loss:0.1323!
2021-03-06 02:11:29,269 - root - INFO - f1:0.1713, p:0.1985, r:0.2132, hit:0.7572, ndcg:0.5079, topn:10.
2021-03-06 02:11:30,495 - root - INFO - f1:0.2053, p:0.3256, r:0.1989, hit:0.8908, ndcg:0.6362, topn:10.
2021-03-06 02:11:30,500 - root - INFO - Checkpointing ...
2021-03-06 02:11:49,545 - root - INFO - train loss:0.1306!
2021-03-06 02:11:50,822 - root - INFO - f1:0.1712, p:0.1986, r:0.2132, hit:0.7561, ndcg:0.5109, topn:10.
2021-03-06 02:11:52,081 - root - INFO - f1:0.2071, p:0.3281, r:0.2007, hit:0.8950, ndcg:0.6397, topn:10.
2021-03-06 02:11:52,085 - root - INFO - No improvement after one epoch. Lowering learning rate.
2021-03-06 02:12:13,042 - root - INFO - train loss:0.1335!
2021-03-06 02:12:14,379 - root - INFO - f1:0.1841, p:0.2108, r:0.2338, hit:0.7975, ndcg:0.5402, topn:10.
2021-03-06 02:12:15,704 - root - INFO - f1:0.2182, p:0.3426, r:0.2122, hit:0.9088, ndcg:0.6711, topn:10.
2021-03-06 02:12:15,708 - root - INFO - Checkpointing ...
2021-03-06 02:12:37,005 - root - INFO - train loss:0.1254!
2021-03-06 02:12:38,279 - root - INFO - f1:0.1876, p:0.2146, r:0.2381, hit:0.7975, ndcg:0.5426, topn:10.
2021-03-06 02:12:39,538 - root - INFO - f1:0.2202, p:0.3475, r:0.2132, hit:0.9056, ndcg:0.6775, topn:10.
2021-03-06 02:12:39,541 - root - INFO - Checkpointing ...
2021-03-06 02:13:00,788 - root - INFO - train loss:0.1232!
2021-03-06 02:13:02,026 - root - INFO - f1:0.1885, p:0.2154, r:0.2400, hit:0.7996, ndcg:0.5497, topn:10.
2021-03-06 02:13:03,378 - root - INFO - f1:0.2224, p:0.3498, r:0.2157, hit:0.9130, ndcg:0.6836, topn:10.
2021-03-06 02:13:03,382 - root - INFO - Checkpointing ...
2021-03-06 02:13:22,992 - root - INFO - train loss:0.1203!
2021-03-06 02:13:24,314 - root - INFO - f1:0.1897, p:0.2171, r:0.2408, hit:0.7996, ndcg:0.5533, topn:10.
2021-03-06 02:13:25,586 - root - INFO - f1:0.2255, p:0.3546, r:0.2185, hit:0.9162, ndcg:0.6865, topn:10.
2021-03-06 02:13:25,590 - root - INFO - Checkpointing ...
2021-03-06 02:13:47,980 - root - INFO - train loss:0.1189!
2021-03-06 02:13:49,230 - root - INFO - f1:0.1919, p:0.2186, r:0.2447, hit:0.8038, ndcg:0.5575, topn:10.
2021-03-06 02:13:50,546 - root - INFO - f1:0.2278, p:0.3567, r:0.2209, hit:0.9183, ndcg:0.6873, topn:10.
2021-03-06 02:13:50,550 - root - INFO - Checkpointing ...
2021-03-06 02:14:10,655 - root - INFO - train loss:0.1176!
2021-03-06 02:14:12,179 - root - INFO - f1:0.1939, p:0.2213, r:0.2469, hit:0.8059, ndcg:0.5611, topn:10.
2021-03-06 02:14:13,489 - root - INFO - f1:0.2275, p:0.3566, r:0.2206, hit:0.9194, ndcg:0.6899, topn:10.
2021-03-06 02:14:13,493 - root - INFO - Checkpointing ...
2021-03-06 02:14:34,197 - root - INFO - train loss:0.1167!
2021-03-06 02:14:35,484 - root - INFO - f1:0.1948, p:0.2221, r:0.2482, hit:0.8070, ndcg:0.5617, topn:10.
2021-03-06 02:14:36,819 - root - INFO - f1:0.2288, p:0.3582, r:0.2223, hit:0.9194, ndcg:0.6918, topn:10.
2021-03-06 02:14:36,823 - root - INFO - Checkpointing ...
2021-03-06 02:14:57,288 - root - INFO - train loss:0.1164!
2021-03-06 02:14:58,628 - root - INFO - f1:0.1953, p:0.2227, r:0.2487, hit:0.8102, ndcg:0.5644, topn:10.
2021-03-06 02:14:59,933 - root - INFO - f1:0.2305, p:0.3617, r:0.2231, hit:0.9205, ndcg:0.6959, topn:10.
2021-03-06 02:14:59,937 - root - INFO - Checkpointing ...
2021-03-06 02:15:20,719 - root - INFO - train loss:0.1149!
2021-03-06 02:15:22,055 - root - INFO - f1:0.1957, p:0.2231, r:0.2492, hit:0.8081, ndcg:0.5643, topn:10.
2021-03-06 02:15:23,372 - root - INFO - f1:0.2304, p:0.3624, r:0.2223, hit:0.9173, ndcg:0.6955, topn:10.
2021-03-06 02:15:23,376 - root - INFO - Checkpointing ...
2021-03-06 02:15:42,688 - root - INFO - train loss:0.1137!
2021-03-06 02:15:44,024 - root - INFO - f1:0.1968, p:0.2244, r:0.2507, hit:0.8102, ndcg:0.5671, topn:10.
2021-03-06 02:15:45,313 - root - INFO - f1:0.2321, p:0.3652, r:0.2242, hit:0.9183, ndcg:0.6975, topn:10.
2021-03-06 02:15:45,317 - root - INFO - Checkpointing ...
2021-03-06 02:16:04,616 - root - INFO - train loss:0.1137!
2021-03-06 02:16:05,921 - root - INFO - f1:0.1968, p:0.2244, r:0.2506, hit:0.8112, ndcg:0.5652, topn:10.
2021-03-06 02:16:07,236 - root - INFO - f1:0.2320, p:0.3651, r:0.2238, hit:0.9173, ndcg:0.6993, topn:10.
2021-03-06 02:16:07,240 - root - INFO - No improvement after one epoch. Lowering learning rate.
2021-03-06 02:16:28,056 - root - INFO - train loss:0.1154!
2021-03-06 02:16:29,365 - root - INFO - f1:0.1968, p:0.2255, r:0.2494, hit:0.8059, ndcg:0.5685, topn:10.
2021-03-06 02:16:30,673 - root - INFO - f1:0.2333, p:0.3679, r:0.2239, hit:0.9152, ndcg:0.6988, topn:10.
2021-03-06 02:16:30,679 - root - INFO - Checkpointing ...
2021-03-06 02:16:51,511 - root - INFO - train loss:0.1120!
2021-03-06 02:16:52,849 - root - INFO - f1:0.1986, p:0.2274, r:0.2520, hit:0.8134, ndcg:0.5724, topn:10.
2021-03-06 02:16:54,191 - root - INFO - f1:0.2350, p:0.3699, r:0.2260, hit:0.9173, ndcg:0.7039, topn:10.
2021-03-06 02:16:54,196 - root - INFO - Checkpointing ...
2021-03-06 02:17:14,986 - root - INFO - train loss:0.1110!
2021-03-06 02:17:16,222 - root - INFO - f1:0.1983, p:0.2274, r:0.2507, hit:0.8102, ndcg:0.5725, topn:10.
2021-03-06 02:17:17,552 - root - INFO - f1:0.2353, p:0.3707, r:0.2255, hit:0.9173, ndcg:0.7043, topn:10.
2021-03-06 02:17:17,557 - root - INFO - No improvement after one epoch. Lowering learning rate.
2021-03-06 02:17:38,107 - root - INFO - train loss:0.1114!
2021-03-06 02:17:39,360 - root - INFO - f1:0.1977, p:0.2264, r:0.2501, hit:0.8081, ndcg:0.5730, topn:10.
2021-03-06 02:17:40,634 - root - INFO - f1:0.2366, p:0.3732, r:0.2272, hit:0.9194, ndcg:0.7062, topn:10.
2021-03-06 02:17:40,637 - root - INFO - No improvement after one epoch. Lowering learning rate.
2021-03-06 02:18:00,811 - root - INFO - train loss:0.1105!
2021-03-06 02:18:02,090 - root - INFO - f1:0.1975, p:0.2264, r:0.2496, hit:0.8059, ndcg:0.5718, topn:10.
2021-03-06 02:18:03,430 - root - INFO - f1:0.2368, p:0.3731, r:0.2276, hit:0.9205, ndcg:0.7057, topn:10.
2021-03-06 02:18:03,435 - root - INFO - No improvement after one epoch. Lowering learning rate.
2021-03-06 02:18:24,749 - root - INFO - train loss:0.1105!
2021-03-06 02:18:26,053 - root - INFO - f1:0.1978, p:0.2268, r:0.2500, hit:0.8081, ndcg:0.5734, topn:10.
2021-03-06 02:18:27,395 - root - INFO - f1:0.2365, p:0.3729, r:0.2270, hit:0.9162, ndcg:0.7041, topn:10.
2021-03-06 02:18:27,399 - root - INFO - No improvement after one epoch. Lowering learning rate.
2021-03-06 02:18:49,147 - root - INFO - train loss:0.1100!
2021-03-06 02:18:50,426 - root - INFO - f1:0.1980, p:0.2270, r:0.2503, hit:0.8081, ndcg:0.5746, topn:10.
2021-03-06 02:18:51,739 - root - INFO - f1:0.2367, p:0.3734, r:0.2270, hit:0.9183, ndcg:0.7054, topn:10.
2021-03-06 02:18:51,743 - root - INFO - No improvement after one epoch. Lowering learning rate.
2021-03-06 02:18:51,797 - root - INFO - No improvement after 13317 steps. Stopping training.
2021-03-06 02:18:53,492 - root - INFO - From CaseRecommender evaluator: {'PREC@10': 0.227253, 'RECALL@10': 0.250749, 'NDCG@10': 0.574722, 'MAP@10': 0.462758, 'MAP': 0.462758}.
2021-03-06 02:18:53,649 - root - INFO - From kg-summ-rec diversity evaluator: {'GENRE_COVERAGE@10': 0.471368, 'GENRE_REDUNDANCY@10': 0.42731, 'ILD_GENRE@10': 0.808798}.
2021-03-06 02:18:55,353 - root - INFO - From CaseRecommender evaluator: {'PREC@10': 0.373489, 'RECALL@10': 0.227059, 'NDCG@10': 0.705435, 'MAP@10': 0.60256, 'MAP': 0.60256}.
2021-03-06 02:18:55,555 - root - INFO - From kg-summ-rec diversity evaluator: {'GENRE_COVERAGE@10': 0.466419, 'GENRE_REDUNDANCY@10': 0.421509, 'ILD_GENRE@10': 0.80607}.
